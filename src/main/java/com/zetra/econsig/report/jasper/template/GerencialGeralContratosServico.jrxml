<!-- Created with Jaspersoft Studio version 7.0.1.final using JasperReports Library version 7.0.1-573496633c2b4074e32f433154b543003f7d2498  -->
<jasperReport name="GerencialGeral" language="java" pageWidth="535" pageHeight="842" whenNoDataType="AllSectionsNoDetail" columnWidth="535" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" scriptletClass="com.zetra.econsig.report.reports.HeadingsScriptlet" uuid="e2f3483c-e4a9-4a78-b220-f4ec47b87da6">
	<property name="ireport.scriptlethandling" value="2"/>
	<property name="ireport.encoding" value="ISO-8859-1"/>
	<property name="ireport.zoom" value="2.1961500000000007"/>
	<property name="ireport.x" value="322"/>
	<property name="ireport.y" value="0"/>
	<import>net.sf.jasperreports.engine.*</import>
	<import>java.util.*</import>
	<import>net.sf.jasperreports.engine.data.*</import>
	<style name="Celula">
		<box padding="0" leftPadding="2" rightPadding="2"/>
	</style>
	<parameter name="CAMINHO_LOGO" forPrompting="false" class="java.lang.String"/>
	<parameter name="SUBTITULO" forPrompting="false" class="java.lang.String">
		<description><![CDATA[Subtitulo do relatório]]></description>
	</parameter>
	<parameter name="TEXTO_RODAPE" forPrompting="false" class="java.lang.String">
		<description><![CDATA[Nome do Gestor(Consignante)]]></description>
	</parameter>
	<parameter name="TITULO" forPrompting="false" class="java.lang.String">
		<description><![CDATA[Titulo do relatorio]]></description>
	</parameter>
	<parameter name="HeadingsCollection" forPrompting="false" class="java.util.Collection"/>
	<parameter name="QTDE_SVC_TOTAL" forPrompting="false" class="java.lang.Integer"/>
	<parameter name="QTDE_SVC_ATIVOS_TOTAL" forPrompting="false" class="java.lang.Integer"/>
	<parameter name="QTDE_SVC_INATIVOS_TOTAL" forPrompting="false" class="java.lang.Integer"/>
	<parameter name="QTDE_CONTRATOS_POR_SVC" forPrompting="false" class="java.lang.Integer"/>
	<parameter name="TOTAL_PRESTACAO_EMPRESTIMO" forPrompting="false" class="java.math.BigDecimal"/>
	<parameter name="SALDO_DEVEDOR_EMPRESTIMO" forPrompting="false" class="java.math.BigDecimal"/>
	<parameter name="RESPONSAVEL" class="com.zetra.econsig.helper.seguranca.AcessoSistema"/>
	<query language="sql"><![CDATA[SELECT DISTINCT tb_usuario.usu_codigo,tb_usuario.usu_login,tb_usuario.usu_nome,tb_usuario.stu_codigo,tb_usuario.usu_tipo_bloq,tb_perfil.per_codigo,tb_perfil.per_descricao,tb_usuario.usu_data_cad,tb_usuario.usu_data_exp_senha,IF(tb_usuario.usu_codigo = tb_usuario_cse.usu_codigo, 'CSE', (IF(tb_usuario.usu_codigo = tb_usuario_csa.usu_codigo, 'CSA', (IF(tb_usuario.usu_codigo = tb_usuario_cor.usu_codigo, 'COR', 'ORG'))))) AS TIPO,IF(tb_usuario.usu_codigo = tb_usuario_cse.usu_codigo, tb_consignante.cse_nome, (IF(tb_usuario.usu_codigo = tb_usuario_csa.usu_codigo, tb_consignataria.csa_nome, (IF(tb_usuario.usu_codigo = tb_usuario_cor.usu_codigo, CONCAT(CONCAT(CSA_COR.csa_nome,  ' - '  ), tb_correspondente.cor_nome), tb_orgao.org_nome))))) AS ENTIDADE FROM tb_usuario LEFT OUTER JOIN tb_usuario_cse ON (tb_usuario.usu_codigo = tb_usuario_cse.usu_codigo) LEFT OUTER JOIN tb_consignante ON (tb_usuario_cse.cse_codigo = tb_consignante.cse_codigo) LEFT OUTER JOIN tb_usuario_csa ON (tb_usuario.usu_codigo = tb_usuario_csa.usu_codigo) LEFT OUTER JOIN tb_consignataria ON (tb_usuario_csa.csa_codigo = tb_consignataria.csa_codigo) LEFT OUTER JOIN tb_usuario_cor ON (tb_usuario.usu_codigo = tb_usuario_cor.usu_codigo) LEFT OUTER JOIN tb_correspondente ON (tb_usuario_cor.cor_codigo = tb_correspondente.cor_codigo) LEFT OUTER JOIN tb_consignataria CSA_COR ON (tb_correspondente.csa_codigo = CSA_COR.csa_codigo) LEFT OUTER JOIN tb_usuario_org ON (tb_usuario.usu_codigo = tb_usuario_org.usu_codigo) LEFT OUTER JOIN tb_orgao ON (tb_usuario_org.org_codigo = tb_orgao.org_codigo) LEFT OUTER JOIN tb_perfil_usuario ON (tb_perfil_usuario.usu_codigo = tb_usuario.usu_codigo) LEFT OUTER JOIN tb_perfil ON (tb_perfil.per_codigo = tb_perfil_usuario.per_codigo) WHERE (tb_usuario.usu_codigo = tb_usuario_cse.usu_codigo OR tb_usuario.usu_codigo = tb_usuario_csa.usu_codigo OR tb_usuario.usu_codigo = tb_usuario_cor.usu_codigo OR tb_usuario.usu_codigo = tb_usuario_org.usu_codigo) AND ( tb_usuario_org.usu_codigo = tb_usuario.usu_codigo OR  tb_usuario_cse.usu_codigo = tb_usuario.usu_codigo OR  tb_usuario_csa.usu_codigo = tb_usuario.usu_codigo OR  tb_usuario_cor.usu_codigo = tb_usuario.usu_codigo )  AND tb_usuario.stu_codigo IN ( 1,2 ) ORDER BY  TIPO, tb_usuario.usu_nome]]></query>
	<field name="svcDescricao" class="java.lang.String"/>
	<field name="quantidade" class="java.lang.Long"/>
	<field name="vlrMensal" class="java.math.BigDecimal"/>
	<field name="vlrTotal" class="java.math.BigDecimal"/>
	<field name="cnvCodVerba" class="java.lang.String"/>
	<field name="consignataria" class="java.lang.String"/>
	<variable name="IMPRIMIR_SOMENTE_10" class="java.lang.Boolean">
		<initialValueExpression><![CDATA[new java.lang.Boolean($P{QTDE_SVC_ATIVOS_TOTAL}.intValue() >= 10)]]></initialValueExpression>
	</variable>
	<background splitType="Stretch"/>
	<title height="60" splitType="Stretch">
		<element kind="textField" uuid="52a4f9c8-005a-41a6-817a-82d8abce2aaf" key="staticText-1" x="188" y="46" width="105" height="14" markup="none" fontName="Arial" fontSize="9.0" bold="true">
			<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.relatorio.gerencialgeralcontratosservico.servicos", $P{RESPONSAVEL})]]></expression>
		</element>
		<element kind="textField" uuid="7560efdb-0ac5-4c59-9b94-6db839562b14" key="staticText-2" x="293" y="46" width="73" height="14" markup="none" fontName="Arial" fontSize="9.0" bold="true" hTextAlign="Right">
			<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.relatorio.gerencialgeralcontratosservico.quantidade.contratos", $P{RESPONSAVEL})]]></expression>
		</element>
		<element kind="textField" uuid="34b5affd-4c4e-4f7f-a3db-04796e2030d7" key="textField-3" x="1" y="2" width="522" height="17" blankWhenNull="false">
			<expression><![CDATA[(new java.lang.Boolean($P{QTDE_SVC_INATIVOS_TOTAL}.intValue() > 1).booleanValue() ? com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("mensagem.relatorio.gerencialgeralcontratosservico.servicos.cadastrados.ativos.bloqueados", $P{RESPONSAVEL}, com.zetra.econsig.helper.texto.NumberHelper.formata(Double.parseDouble($P{QTDE_SVC_TOTAL}.toString()), "#,###; -#,###"), com.zetra.econsig.helper.texto.NumberHelper.formata(Double.parseDouble($P{QTDE_SVC_ATIVOS_TOTAL}.toString()), "#,###; -#,###"), com.zetra.econsig.helper.texto.NumberHelper.formata(Double.parseDouble($P{QTDE_SVC_INATIVOS_TOTAL}.toString()), "#,###; -#,###")) : com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("mensagem.relatorio.gerencialgeralcontratosservico.servicos.cadastrados.ativos.bloqueado", $P{RESPONSAVEL}, com.zetra.econsig.helper.texto.NumberHelper.formata(Double.parseDouble($P{QTDE_SVC_TOTAL}.toString()), "#,###; -#,###"), com.zetra.econsig.helper.texto.NumberHelper.formata(Double.parseDouble($P{QTDE_SVC_ATIVOS_TOTAL}.toString()), "#,###; -#,###"), com.zetra.econsig.helper.texto.NumberHelper.formata(Double.parseDouble($P{QTDE_SVC_INATIVOS_TOTAL}.toString()), "#,###; -#,###")))]]></expression>
		</element>
		<element kind="textField" uuid="bfbe683e-8dfa-4152-93c5-977cf52e4300" key="staticText-3" x="1" y="20" width="522" height="17" markup="none" fontName="Arial" fontSize="10.0" bold="false">
			<printWhenExpression><![CDATA[$V{IMPRIMIR_SOMENTE_10}]]></printWhenExpression>
			<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("mensagem.relatorio.gerencialgeralcontratosservico.servicos.mais.utilizados", $P{RESPONSAVEL})+":"]]></expression>
		</element>
		<element kind="textField" uuid="010c5ee3-3627-4437-aecd-2341acd78781" key="staticText-7" x="366" y="46" width="72" height="14" markup="none" fontName="Arial" fontSize="9.0" bold="true" hTextAlign="Right">
			<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.relatorio.gerencialgeralcontratosservico.valor.mensal", $P{RESPONSAVEL})]]></expression>
		</element>
		<element kind="textField" uuid="db3b961d-edd4-4e6f-9894-65714e1f4d13" key="staticText-8" x="438" y="46" width="85" height="14" markup="none" fontName="Arial" fontSize="9.0" bold="true" hTextAlign="Right">
			<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.relatorio.gerencialgeralcontratosservico.valor.total", $P{RESPONSAVEL})]]></expression>
		</element>
		<element kind="textField" uuid="f30ef2b4-5432-4c06-b220-73ae8a0f7d00" key="staticText-1" x="10" y="46" width="51" height="14" markup="none" fontName="Arial" fontSize="9.0" bold="true">
			<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.relatorio.gerencialgeralcontratosservico.verbas", $P{RESPONSAVEL})]]></expression>
		</element>
		<element kind="textField" uuid="79d4c8ce-23bc-4654-a91a-13765ac7419e" key="staticText-1" x="61" y="46" width="127" height="14" markup="none" fontName="Arial" fontSize="9.0" bold="true">
			<paragraph spacingAfter="10"/>
			<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.relatorio.gerencialgeralcontratosservico.consignatarias", $P{RESPONSAVEL})]]></expression>
		</element>
	</title>
	<pageHeader splitType="Stretch"/>
	<columnHeader splitType="Stretch"/>
	<detail>
		<band height="14" splitType="Stretch">
			<element kind="textField" uuid="dd6ba689-bb77-4eaf-8004-9de7388f7a27" key="textField-1" x="188" y="0" width="105" height="14" fontSize="8.0" textAdjust="StretchHeight" blankWhenNull="true">
				<expression><![CDATA[$F{svcDescricao} != null ? $F{svcDescricao} : com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.campo.nao.definido.abreviado", $P{RESPONSAVEL})]]></expression>
			</element>
			<element kind="textField" uuid="d4fb23f0-5bff-4481-ad1c-1f92ae922ddb" key="textField-2" x="293" y="0" width="73" height="14" fontSize="8.0" pattern="#,##0" blankWhenNull="true" hTextAlign="Right">
				<expression><![CDATA[$F{quantidade}]]></expression>
			</element>
			<element kind="textField" uuid="ee872211-9db5-4f07-81d3-39a056919b36" key="textField-6" x="366" y="0" width="72" height="14" fontSize="8.0" pattern="¤ #,##0.00" blankWhenNull="true" hTextAlign="Right">
				<expression><![CDATA[$F{vlrMensal}]]></expression>
			</element>
			<element kind="textField" uuid="8ac3cfc5-e903-4d2a-8186-3a3661eba5d7" key="textField-7" x="438" y="0" width="85" height="14" fontSize="8.0" pattern="¤ #,##0.00" blankWhenNull="true" hTextAlign="Right">
				<expression><![CDATA[$F{vlrTotal}]]></expression>
			</element>
			<element kind="textField" uuid="b073fb6a-ec93-4ef7-9990-2be5f629d7fa" key="textField-1" x="10" y="0" width="51" height="14" fontSize="8.0" blankWhenNull="true">
				<expression><![CDATA[$F{cnvCodVerba}]]></expression>
			</element>
			<element kind="textField" uuid="847d9adf-928e-40a3-b3db-481866a249e8" key="textField-1" x="61" y="0" width="127" height="14" fontSize="8.0" blankWhenNull="true">
				<paragraph spacingAfter="10"/>
				<expression><![CDATA[$F{consignataria}]]></expression>
			</element>
		</band>
	</detail>
	<columnFooter splitType="Stretch"/>
	<pageFooter splitType="Stretch"/>
	<summary height="440" splitType="Stretch">
		<element kind="chart" chartType="bar3D" uuid="b7513c2d-381e-4ed1-8d10-c3c4f81b7b7d" key="element-1" x="1" y="2" width="528" height="376" showLegend="false" customizerClass="com.zetra.econsig.report.jasper.LabelCustomizer">
			<printWhenExpression><![CDATA[new Boolean($V{REPORT_COUNT}.intValue() > 1)]]></printWhenExpression>
			<dataset kind="category">
				<series>
					<seriesExpression><![CDATA[$F{svcDescricao} != null ? $F{svcDescricao} : com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.campo.nao.definido.abreviado", $P{RESPONSAVEL})]]></seriesExpression>
					<categoryExpression><![CDATA[$F{svcDescricao} != null ? $F{svcDescricao} : com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.campo.nao.definido.abreviado", $P{RESPONSAVEL})]]></categoryExpression>
					<valueExpression><![CDATA[$F{quantidade}]]></valueExpression>
				</series>
			</dataset>
			<plot labelRotation="60.0" categoryAxisTickLabelRotation="60.0">
				<categoryAxisLabelFont fontSize="8.0"/>
				<categoryAxisTickLabelFont fontSize="8.0"/>
				<valueAxisLabelFont fontSize="8.0"/>
				<valueAxisTickLabelFont fontSize="8.0"/>
				<itemLabel/>
			</plot>
		</element>
	</summary>
</jasperReport>
