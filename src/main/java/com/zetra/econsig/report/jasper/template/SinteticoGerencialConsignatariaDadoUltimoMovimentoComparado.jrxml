<!-- Created with Jaspersoft Studio version 7.0.1.final using JasperReports Library version 7.0.1-573496633c2b4074e32f433154b543003f7d2498  -->
<jasperReport name="SinteticoGerencialConsignatariaAverbacao" language="java" pageWidth="535" pageHeight="842" whenNoDataType="AllSectionsNoDetail" columnWidth="535" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" scriptletClass="com.zetra.econsig.report.reports.HeadingsScriptlet" uuid="8be84e21-4506-491d-a349-1d3d28ade638">
	<property name="ireport.scriptlethandling" value="2"/>
	<property name="ireport.encoding" value="ISO-8859-1"/>
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<import>net.sf.jasperreports.engine.*</import>
	<import>java.util.*</import>
	<import>net.sf.jasperreports.engine.data.*</import>
	<style name="Celula">
		<box padding="0" leftPadding="2" rightPadding="2"/>
	</style>
	<dataset name="Empty Dataset1" uuid="c92fbf8d-43d4-4c24-8443-3b98068ac203"/>
	<parameter name="CAMINHO_LOGO" forPrompting="false" class="java.lang.String"/>
	<parameter name="SUBTITULO" forPrompting="false" class="java.lang.String">
		<description><![CDATA[Subtitulo do relatÃ³rio]]></description>
	</parameter>
	<parameter name="TEXTO_RODAPE" forPrompting="false" class="java.lang.String">
		<description><![CDATA[Nome do Gestor(Consignante)]]></description>
	</parameter>
	<parameter name="TITULO" forPrompting="false" class="java.lang.String">
		<description><![CDATA[Titulo do relatorio]]></description>
	</parameter>
	<parameter name="HeadingsCollection" forPrompting="false" class="java.util.Collection"/>
	<parameter name="SUBREPORT_DIR" forPrompting="false" class="java.lang.String">
		<defaultValueExpression><![CDATA[".\\"]]></defaultValueExpression>
	</parameter>
	<parameter name="RESPONSAVEL" class="com.zetra.econsig.helper.seguranca.AcessoSistema"/>
	<parameter name="SETA_CIMA" forPrompting="false" class="java.lang.String"/>
	<parameter name="SETA_BAIXO" forPrompting="false" class="java.lang.String"/>
	<parameter name="RETANGULO" forPrompting="false" class="java.lang.String"/>
	<query language="sql"><![CDATA[SELECT DISTINCT tb_usuario.usu_codigo,tb_usuario.usu_login,tb_usuario.usu_nome,tb_usuario.stu_codigo,tb_usuario.usu_tipo_bloq,tb_perfil.per_codigo,tb_perfil.per_descricao,tb_usuario.usu_data_cad,tb_usuario.usu_data_exp_senha,IF(tb_usuario.usu_codigo = tb_usuario_cse.usu_codigo, 'CSE', (IF(tb_usuario.usu_codigo = tb_usuario_csa.usu_codigo, 'CSA', (IF(tb_usuario.usu_codigo = tb_usuario_cor.usu_codigo, 'COR', 'ORG'))))) AS TIPO,IF(tb_usuario.usu_codigo = tb_usuario_cse.usu_codigo, tb_consignante.cse_nome, (IF(tb_usuario.usu_codigo = tb_usuario_csa.usu_codigo, tb_consignataria.csa_nome, (IF(tb_usuario.usu_codigo = tb_usuario_cor.usu_codigo, CONCAT(CONCAT(CSA_COR.csa_nome,  ' - '  ), tb_correspondente.cor_nome), tb_orgao.org_nome))))) AS ENTIDADE FROM tb_usuario LEFT OUTER JOIN tb_usuario_cse ON (tb_usuario.usu_codigo = tb_usuario_cse.usu_codigo) LEFT OUTER JOIN tb_consignante ON (tb_usuario_cse.cse_codigo = tb_consignante.cse_codigo) LEFT OUTER JOIN tb_usuario_csa ON (tb_usuario.usu_codigo = tb_usuario_csa.usu_codigo) LEFT OUTER JOIN tb_consignataria ON (tb_usuario_csa.csa_codigo = tb_consignataria.csa_codigo) LEFT OUTER JOIN tb_usuario_cor ON (tb_usuario.usu_codigo = tb_usuario_cor.usu_codigo) LEFT OUTER JOIN tb_correspondente ON (tb_usuario_cor.cor_codigo = tb_correspondente.cor_codigo) LEFT OUTER JOIN tb_consignataria CSA_COR ON (tb_correspondente.csa_codigo = CSA_COR.csa_codigo) LEFT OUTER JOIN tb_usuario_org ON (tb_usuario.usu_codigo = tb_usuario_org.usu_codigo) LEFT OUTER JOIN tb_orgao ON (tb_usuario_org.org_codigo = tb_orgao.org_codigo) LEFT OUTER JOIN tb_perfil_usuario ON (tb_perfil_usuario.usu_codigo = tb_usuario.usu_codigo) LEFT OUTER JOIN tb_perfil ON (tb_perfil.per_codigo = tb_perfil_usuario.per_codigo) WHERE (tb_usuario.usu_codigo = tb_usuario_cse.usu_codigo OR tb_usuario.usu_codigo = tb_usuario_csa.usu_codigo OR tb_usuario.usu_codigo = tb_usuario_cor.usu_codigo OR tb_usuario.usu_codigo = tb_usuario_org.usu_codigo) AND ( tb_usuario_org.usu_codigo = tb_usuario.usu_codigo OR  tb_usuario_cse.usu_codigo = tb_usuario.usu_codigo OR  tb_usuario_csa.usu_codigo = tb_usuario.usu_codigo OR  tb_usuario_cor.usu_codigo = tb_usuario.usu_codigo )  AND tb_usuario.stu_codigo IN ( 1,2 ) ORDER BY  TIPO, tb_usuario.usu_nome]]></query>
	<field name="nome" class="java.lang.String"/>
	<field name="percentual" class="java.math.BigDecimal"/>
	<field name="tipoContrato" class="java.lang.String"/>
	<field name="vlrTotal" class="java.math.BigDecimal"/>
	<field name="status" class="java.lang.String"/>
	<field name="simbolo" class="java.lang.String"/>
	<group name="GroupoNome">
		<expression><![CDATA[$F{tipoContrato}]]></expression>
		<groupHeader>
			<band height="40">
				<element kind="textField" uuid="6accd6ae-589e-4e00-be1e-3703e87379ed" positionType="Float" x="1" y="20" width="269" height="20" bold="true" hTextAlign="Center" vTextAlign="Bottom">
					<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.relatorio.sinteticogerencialconsignataria.ultimo.movimento.volume", $P{RESPONSAVEL})]]></expression>
					<box>
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
				</element>
				<element kind="textField" uuid="ca20017b-0371-408f-aade-17d357a4b768" positionType="Float" x="270" y="20" width="129" height="20" bold="true" hTextAlign="Center" vTextAlign="Bottom">
					<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.relatorio.sinteticogerencialconsignataria.ultimo.movimento.quantidade", $P{RESPONSAVEL})]]></expression>
					<box>
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
				</element>
				<element kind="textField" uuid="50fc30b0-d7c3-4080-b804-d2c245d4b725" positionType="Float" x="1" y="0" width="210" height="20" evaluationTime="Group" evaluationGroup="GroupoNome" printRepeatedValues="false" bold="true" vTextAlign="Bottom">
					<expression><![CDATA[$F{tipoContrato} + "  :"]]></expression>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
				</element>
				<element kind="textField" uuid="020ba698-cbe2-46f2-bd25-a34f384fc57c" positionType="Float" x="399" y="20" width="135" height="20" bold="true" hTextAlign="Center" vTextAlign="Bottom">
					<expression><![CDATA["%"]]></expression>
					<box>
						<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
				</element>
			</band>
		</groupHeader>
	</group>
	<background splitType="Stretch"/>
	<pageHeader splitType="Stretch"/>
	<detail>
		<band height="20" splitType="Stretch">
			<element kind="textField" uuid="acfe63ec-1d7b-4d31-a643-23c89c5efc74" positionType="Float" x="1" y="0" width="269" height="20" blankWhenNull="false" hTextAlign="Left" vTextAlign="Middle">
				<expression><![CDATA[$F{nome}]]></expression>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
			<element kind="textField" uuid="5d0e4738-10b8-4e3b-ae5a-03760b04a09e" positionType="Float" x="399" y="0" width="105" height="20" hTextAlign="Center" vTextAlign="Middle">
				<expression><![CDATA[$F{percentual} + " %"]]></expression>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
			<element kind="textField" uuid="a4a4af75-4418-4258-b7b2-637c340aa3c4" positionType="Float" x="270" y="0" width="129" height="20" blankWhenNull="true" hTextAlign="Right" vTextAlign="Middle">
				<expression><![CDATA["i".equalsIgnoreCase($F{status}) ? com.zetra.econsig.helper.texto.NumberHelper.format($F{vlrTotal}.doubleValue(), com.zetra.econsig.helper.texto.NumberHelper.getLang(), 0, 0, true):
"%".equalsIgnoreCase($F{simbolo}) ? com.zetra.econsig.helper.texto.NumberHelper.format($F{vlrTotal}.doubleValue(), com.zetra.econsig.helper.texto.NumberHelper.getLang(), true) +$F{simbolo} :  
$F{simbolo} +com.zetra.econsig.helper.texto.NumberHelper.format($F{vlrTotal}.doubleValue(), com.zetra.econsig.helper.texto.NumberHelper.getLang(), true)]]></expression>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
			<element kind="image" uuid="e8a18a34-1b5d-4d6b-a0f5-bd6c55012cfe" key="image-1" x="504" y="0" width="30" height="20" onErrorType="Blank" hImageAlign="Center" vImageAlign="Middle">
				<printWhenExpression><![CDATA[$F{percentual}.compareTo(java.math.BigDecimal.ZERO) > 0]]></printWhenExpression>
				<expression><![CDATA[$P{SETA_CIMA}]]></expression>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
			<element kind="image" uuid="4acca0da-e7a1-4b64-969a-80eb31ebc5ab" key="image-1" x="504" y="0" width="30" height="20" onErrorType="Blank" hImageAlign="Center" vImageAlign="Middle">
				<printWhenExpression><![CDATA[$F{percentual}.compareTo(java.math.BigDecimal.ZERO) < 0]]></printWhenExpression>
				<expression><![CDATA[$P{SETA_BAIXO}]]></expression>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
			<element kind="image" uuid="2d75ee7e-92b5-44ea-bfe6-7504efaa2fa0" key="image-1" x="504" y="0" width="30" height="20" onErrorType="Blank" hImageAlign="Center" vImageAlign="Middle">
				<printWhenExpression><![CDATA[$F{percentual}.compareTo(java.math.BigDecimal.ZERO) == 0]]></printWhenExpression>
				<expression><![CDATA[$P{RETANGULO}]]></expression>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
		</band>
	</detail>
	<columnFooter splitType="Stretch"/>
	<pageFooter splitType="Stretch"/>
	<summary height="96" splitType="Stretch">
		<element kind="textField" uuid="d9229648-1d87-48b9-b5bf-8604a311409d" x="1" y="0" width="408" height="30">
			<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.relatorio.sinteticogerencialconsignataria.ultimo.movimento.legenda.detalhe", $P{RESPONSAVEL})]]></expression>
		</element>
		<element kind="image" uuid="d9c2c3a0-2616-4c34-94b4-3a9aafad92f9" key="image-1" x="10" y="76" width="30" height="20" onErrorType="Blank" hImageAlign="Center" vImageAlign="Middle">
			<printWhenExpression><![CDATA[$F{percentual}.compareTo(java.math.BigDecimal.ZERO) == 0]]></printWhenExpression>
			<expression><![CDATA[$P{RETANGULO}]]></expression>
			<box>
				<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
		<element kind="image" uuid="25eb50f1-6867-4a9d-a7af-fa078764c234" key="image-1" x="10" y="56" width="30" height="20" onErrorType="Blank" hImageAlign="Center" vImageAlign="Middle">
			<printWhenExpression><![CDATA[$F{percentual}.compareTo(java.math.BigDecimal.ZERO) == 0]]></printWhenExpression>
			<expression><![CDATA[$P{SETA_BAIXO}]]></expression>
			<box>
				<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
		<element kind="image" uuid="98bad95a-e135-4e34-8b90-517d1a18cafa" key="image-1" x="10" y="36" width="30" height="20" onErrorType="Blank" hImageAlign="Center" vImageAlign="Middle">
			<printWhenExpression><![CDATA[$F{percentual}.compareTo(java.math.BigDecimal.ZERO) == 0]]></printWhenExpression>
			<expression><![CDATA[$P{SETA_CIMA}]]></expression>
			<box>
				<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
		<element kind="textField" uuid="bb0cc318-334f-4a3a-8ee2-27c0e8155c27" x="45" y="36" width="348" height="20">
			<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.relatorio.sinteticogerencialconsignataria.ultimo.movimento.legenda.alta", $P{RESPONSAVEL})]]></expression>
		</element>
		<element kind="textField" uuid="4aba637a-620e-4d21-845b-3eb5c66a9015" x="45" y="56" width="348" height="20">
			<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.relatorio.sinteticogerencialconsignataria.ultimo.movimento.legenda.baixa", $P{RESPONSAVEL})]]></expression>
		</element>
		<element kind="textField" uuid="a1d7c9e9-2779-4593-82a3-87345303e9d8" x="45" y="76" width="348" height="20">
			<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.relatorio.sinteticogerencialconsignataria.ultimo.movimento.legenda.estavel", $P{RESPONSAVEL})]]></expression>
		</element>
	</summary>
</jasperReport>
