<!-- Created with Jaspersoft Studio version 7.0.1.final using JasperReports Library version 7.0.1-573496633c2b4074e32f433154b543003f7d2498  -->
<jasperReport name="Consignatarias" language="java" pageWidth="842" pageHeight="595" orientation="Landscape" whenNoDataType="AllSectionsNoDetail" columnWidth="782" leftMargin="30" rightMargin="30" topMargin="20" bottomMargin="20" uuid="a7287ed4-2f00-448f-9df9-95822cac4597">
	<property name="ireport.scriptlethandling" value="0"/>
	<property name="ireport.encoding" value="ISO-8859-1"/>
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="689"/>
	<property name="ireport.y" value="0"/>
	<import>net.sf.jasperreports.engine.*</import>
	<import>java.util.*</import>
	<import>net.sf.jasperreports.engine.data.*</import>
	<style name="Celula">
		<box padding="0" leftPadding="2" rightPadding="2"/>
	</style>
	<parameter name="DELIMITADOR" forPrompting="false" class="java.lang.String"/>
	<parameter name="CAMINHO_LOGO" forPrompting="false" class="java.lang.String"/>
	<parameter name="SUBTITULO" forPrompting="false" class="java.lang.String">
		<description><![CDATA[Subtitulo do relatÃ³rio]]></description>
	</parameter>
	<parameter name="TEXTO_RODAPE" forPrompting="false" class="java.lang.String">
		<description><![CDATA[Nome do Gestor(Consignante)]]></description>
	</parameter>
	<parameter name="TITULO" forPrompting="false" class="java.lang.String"/>
	<parameter name="FORMATO_ARQUIVO" forPrompting="false" class="java.lang.String"/>
	<parameter name="RESPONSAVEL" class="com.zetra.econsig.helper.seguranca.AcessoSistema"/>
	<query language="sql"><![CDATA[SELECT tb_consignataria.*, tgc_identificador, tgc_descricao FROM tb_consignataria LEFT OUTER JOIN tb_tipo_grupo_consignataria USING (tgc_codigo) ORDER BY tgc_descricao, csa_identificador]]></query>
	<field name="CSA_CODIGO" class="java.lang.String"/>
	<field name="CSA_NOME" class="java.lang.String"/>
	<field name="CONSIGNATARIA" class="java.lang.String"/>
	<field name="CSA_IDENTIFICADOR" class="java.lang.String"/>
	<field name="SALDO" class="java.math.BigDecimal"/>
	<field name="PAGAMENTO" class="java.math.BigDecimal"/>
	<field name="LIQUIDACAO" class="java.math.BigDecimal"/>
	<variable name="BACKGROUND" calculation="DistinctCount" class="java.lang.Integer">
		<expression><![CDATA[$F{CSA_CODIGO}]]></expression>
		<initialValueExpression><![CDATA[new java.lang.Integer(0)]]></initialValueExpression>
	</variable>
	<background splitType="Stretch"/>
	<title splitType="Stretch"/>
	<pageHeader height="105" splitType="Stretch">
		<element kind="image" uuid="44c0ed27-201f-4c86-84c7-dcf5ef1fc8ec" key="image-1" x="2" y="1" width="63" height="20" onErrorType="Blank" usingCache="true" lazy="true">
			<expression><![CDATA[$P{CAMINHO_LOGO}]]></expression>
			<box>
				<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="0.0" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
		<element kind="textField" uuid="bd777995-ef16-4627-9003-cd28765c0f28" key="textField-11" x="68" y="3" width="714" height="26" fontName="Arial" fontSize="12.0" textAdjust="StretchHeight" blankWhenNull="false" bold="true" hTextAlign="Left">
			<expression><![CDATA[$P{TITULO}]]></expression>
			<box>
				<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="0.0" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
		<element kind="textField" uuid="514bee8f-4e48-46b0-bada-4f42d819a55f" key="textField-24" positionType="Float" x="2" y="30" width="779" height="70" fontName="Arial" blankWhenNull="false" bold="true" hTextAlign="Left">
			<expression><![CDATA[$P{SUBTITULO}]]></expression>
			<box>
				<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="0.0" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
	</pageHeader>
	<columnHeader height="34" splitType="Stretch">
		<element kind="textField" uuid="e604d07f-21ff-4efc-b4bb-7cec068f6a08" key="staticText-11" mode="Opaque" x="708" y="2" width="73" height="32" backcolor="#CCCCCC" markup="none" fontName="Arial" fontSize="9.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
			<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.relatorio.acompcomprasin.total.pendencias", $P{RESPONSAVEL})]]></expression>
			<box>
				<topPen lineWidth="0.25"/>
				<bottomPen lineWidth="0.25"/>
				<rightPen lineWidth="0.25"/>
			</box>
		</element>
		<element kind="textField" uuid="3bfcf5db-4a4f-4313-9f8e-ddb793d0b259" key="staticText-12" mode="Opaque" x="628" y="2" width="80" height="32" backcolor="#CCCCCC" markup="none" fontName="Arial" fontSize="9.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
			<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.relatorio.acompcomprasin.qtd.pendencias.liquidacao", $P{RESPONSAVEL})]]></expression>
			<box>
				<topPen lineWidth="0.25"/>
				<bottomPen lineWidth="0.25"/>
				<rightPen lineWidth="0.25"/>
			</box>
		</element>
		<element kind="textField" uuid="c90dce75-6f6c-47ef-a93a-1d16b7498be8" key="staticText-17" mode="Opaque" x="542" y="2" width="86" height="32" backcolor="#CCCCCC" markup="none" fontName="Arial" fontSize="9.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
			<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.relatorio.acompcomprasin.qtd.pendencias.pag.saldo", $P{RESPONSAVEL})]]></expression>
			<box>
				<topPen lineWidth="0.25"/>
				<bottomPen lineWidth="0.25"/>
				<rightPen lineWidth="0.25"/>
			</box>
		</element>
		<element kind="textField" uuid="a4d9c58d-ea5e-4d01-a4aa-f591198763b8" key="staticText-10" mode="Opaque" x="456" y="2" width="86" height="32" backcolor="#CCCCCC" markup="none" fontName="Arial" fontSize="9.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
			<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.relatorio.acompcomprasin.qtd.pendencias.inf.saldo", $P{RESPONSAVEL})]]></expression>
			<box>
				<topPen lineWidth="0.25"/>
				<bottomPen lineWidth="0.25"/>
				<rightPen lineWidth="0.25"/>
			</box>
		</element>
		<element kind="textField" uuid="f53045d2-7b7a-48b0-9d8f-e3790150d06e" key="staticText-20" mode="Opaque" x="0" y="2" width="456" height="32" backcolor="#CCCCCC" fontName="Arial" fontSize="9.0" blankWhenNull="false" bold="true" hTextAlign="Center" vTextAlign="Middle">
			<expression><![CDATA[($P{FORMATO_ARQUIVO}.equalsIgnoreCase("text") || $P{FORMATO_ARQUIVO}.equalsIgnoreCase("csv")) ? com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.consignacao.identificador", $P{RESPONSAVEL}) + $P{DELIMITADOR} + com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.consignataria.singular", $P{RESPONSAVEL}) : com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.consignataria.singular", $P{RESPONSAVEL})]]></expression>
			<box>
				<topPen lineWidth="0.25" lineStyle="Solid"/>
				<leftPen lineWidth="0.25" lineStyle="Solid"/>
				<bottomPen lineWidth="0.25" lineStyle="Solid"/>
				<rightPen lineWidth="0.25" lineStyle="Solid"/>
			</box>
		</element>
	</columnHeader>
	<detail>
		<band height="11" splitType="Prevent">
			<element kind="staticText" uuid="5ed4bd6b-4fc0-476c-9cfd-2075b5819088" key="fundoLinha" stretchType="ContainerHeight" mode="Opaque" x="0" y="0" width="782" height="11" backcolor="#DDDDDD">
				<printWhenExpression><![CDATA[new java.lang.Boolean(($V{BACKGROUND}.intValue() % 2)==0)]]></printWhenExpression>
				<text><![CDATA[ ]]></text>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
			<element kind="textField" uuid="8c22b171-9d0f-4a1f-8634-8a2184cac897" key="textField" stretchType="ElementGroupHeight" x="708" y="0" width="73" height="11" fontSize="8.0" textAdjust="StretchHeight" pattern="#,##0" blankWhenNull="true" hTextAlign="Center" vTextAlign="Top" style="Celula">
				<expression><![CDATA[$F{SALDO}.add($F{PAGAMENTO}).add($F{LIQUIDACAO})]]></expression>
				<box leftPadding="2" rightPadding="2" style="Celula">
					<topPen lineWidth="0.25" lineStyle="Solid"/>
					<leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
				</box>
			</element>
			<element kind="textField" uuid="25a7d57b-ad8d-4592-8634-4418222cdb1d" key="textField" stretchType="ElementGroupHeight" x="628" y="0" width="80" height="11" fontSize="8.0" textAdjust="StretchHeight" pattern="#,##0" blankWhenNull="true" hTextAlign="Center" vTextAlign="Top" style="Celula">
				<expression><![CDATA[$F{LIQUIDACAO}]]></expression>
				<box leftPadding="2" rightPadding="2" style="Celula">
					<topPen lineWidth="0.25" lineStyle="Solid"/>
					<leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
				</box>
			</element>
			<element kind="textField" uuid="4842b9a4-fd30-4477-a39e-bf0790048064" key="textField-17" stretchType="ElementGroupHeight" x="542" y="0" width="86" height="11" fontSize="8.0" textAdjust="StretchHeight" pattern="#,##0" blankWhenNull="true" hTextAlign="Center" vTextAlign="Top" style="Celula">
				<expression><![CDATA[$F{PAGAMENTO}]]></expression>
				<box leftPadding="2" rightPadding="2" style="Celula">
					<topPen lineWidth="0.25" lineStyle="Solid"/>
					<leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
				</box>
			</element>
			<element kind="textField" uuid="15824542-cddd-41b8-af29-363ef214cd1d" key="textField" stretchType="ElementGroupHeight" x="456" y="0" width="86" height="11" fontSize="8.0" textAdjust="StretchHeight" pattern="#,##0" blankWhenNull="true" hTextAlign="Center" vTextAlign="Top" style="Celula">
				<expression><![CDATA[$F{SALDO}]]></expression>
				<box leftPadding="2" rightPadding="2" style="Celula">
					<topPen lineWidth="0.25" lineStyle="Solid"/>
					<leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
				</box>
			</element>
			<element kind="textField" uuid="e5f6ac5e-c2ac-40a2-8dd7-fee8870cbe2e" key="textField" stretchType="ElementGroupHeight" x="0" y="0" width="456" height="11" fontSize="8.0" textAdjust="StretchHeight" blankWhenNull="true" vTextAlign="Top" style="Celula">
				<expression><![CDATA[($P{FORMATO_ARQUIVO}.equalsIgnoreCase("text") || $P{FORMATO_ARQUIVO}.equalsIgnoreCase("csv")) ? $F{CSA_IDENTIFICADOR} + $P{DELIMITADOR} + $F{CSA_NOME} : $F{CONSIGNATARIA}]]></expression>
				<box leftPadding="2" rightPadding="2" style="Celula">
					<topPen lineWidth="0.25" lineStyle="Solid"/>
					<leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid"/>
					<rightPen lineWidth="0.25" lineStyle="Solid"/>
				</box>
			</element>
		</band>
	</detail>
	<columnFooter splitType="Stretch"/>
	<pageFooter height="18" splitType="Stretch">
		<element kind="textField" uuid="9511edf5-ad01-43c2-8bc1-a833ba057478" key="textField" x="0" y="4" width="674" height="13" fontName="Times New Roman" fontSize="7.0" blankWhenNull="true">
			<expression><![CDATA[$P{TEXTO_RODAPE}]]></expression>
			<box>
				<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="0.0" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
		<element kind="textField" uuid="5e1d2e8e-8bd5-41f4-8115-0141a1fd346a" key="textField-10" x="674" y="4" width="60" height="13" blankWhenNull="false" hTextAlign="Right">
			<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.relatorio.pagina.de", $P{RESPONSAVEL}, $V{PAGE_NUMBER}.toString())]]></expression>
			<box>
				<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="0.0" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
		<element kind="textField" uuid="e85a65b6-a1c0-4b2c-b3c0-eff0287f3809" key="textField-11" x="737" y="4" width="45" height="13" evaluationTime="Report" blankWhenNull="false" hTextAlign="Left">
			<expression><![CDATA[" " + $V{PAGE_NUMBER}]]></expression>
			<box>
				<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="0.0" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
	</pageFooter>
	<summary height="20" splitType="Stretch">
		<element kind="textField" uuid="76204fa8-765a-4dcd-8727-992ec91a6049" key="staticText-16" stretchType="ContainerHeight" x="1" y="3" width="116" height="17" markup="none" fontName="Arial" printWhenDetailOverflows="true" bold="true" vTextAlign="Middle">
			<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.relatorio.total.registros", $P{RESPONSAVEL})]]></expression>
		</element>
		<element kind="textField" uuid="e840c115-d3b4-428f-a8b9-98db05eb5981" key="textField-16" x="117" y="3" width="48" height="17" pattern="" blankWhenNull="true" bold="false" vTextAlign="Middle">
			<expression><![CDATA[$V{REPORT_COUNT}]]></expression>
			<box>
				<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="0.0" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
	</summary>
</jasperReport>
