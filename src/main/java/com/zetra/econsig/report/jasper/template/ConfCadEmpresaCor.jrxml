<!-- Created with Jaspersoft Studio version 7.0.1.final using JasperReports Library version 7.0.1-573496633c2b4074e32f433154b543003f7d2498  -->
<jasperReport name="Empresas Correspondentes" language="java" pageWidth="842" pageHeight="595" orientation="Landscape" whenNoDataType="AllSectionsNoDetail" columnWidth="782" leftMargin="30" rightMargin="30" topMargin="20" bottomMargin="20" uuid="7fcb334e-3874-49a4-8746-fbff43b80e9b">
	<property name="ireport.scriptlethandling" value="0"/>
	<property name="ireport.encoding" value="ISO-8859-1"/>
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="456"/>
	<property name="ireport.y" value="0"/>
	<import>net.sf.jasperreports.engine.*</import>
	<import>java.util.*</import>
	<import>net.sf.jasperreports.engine.data.*</import>
	<style name="Celula">
		<box padding="0" leftPadding="2" rightPadding="2"/>
	</style>
	<parameter name="CAMINHO_LOGO" forPrompting="false" class="java.lang.String"/>
	<parameter name="SUBTITULO" forPrompting="false" class="java.lang.String">
		<description><![CDATA[Subtitulo do relatÃ³rio]]></description>
	</parameter>
	<parameter name="TEXTO_RODAPE" forPrompting="false" class="java.lang.String">
		<description><![CDATA[Nome do Gestor(Consignante)]]></description>
	</parameter>
	<parameter name="TITULO" forPrompting="false" class="java.lang.String"/>
	<parameter name="RESPONSAVEL" class="com.zetra.econsig.helper.seguranca.AcessoSistema"/>
	<query language="sql"><![CDATA[SELECT tb_consignataria.csa_codigo,tb_consignataria.csa_identificador,tb_consignataria.csa_nome,tb_correspondente.cor_codigo,tb_correspondente.cor_identificador,tb_correspondente.cor_nome,tb_correspondente.cor_email,tb_correspondente.cor_responsavel,tb_correspondente.cor_responsavel_2,tb_correspondente.cor_responsavel_3,tb_correspondente.cor_resp_cargo,tb_correspondente.cor_resp_cargo_2,tb_correspondente.cor_resp_cargo_3,tb_correspondente.cor_resp_telefone,tb_correspondente.cor_resp_telefone_2,tb_correspondente.cor_resp_telefone_3,tb_correspondente.cor_ativo FROM tb_correspondente INNER JOIN tb_consignataria USING (csa_codigo) ORDER BY 2,5]]></query>
	<field name="csa_codigo" class="java.lang.String"/>
	<field name="csa_identificador" class="java.lang.String"/>
	<field name="csa_nome" class="java.lang.String"/>
	<field name="cor_codigo" class="java.lang.String"/>
	<field name="cor_identificador" class="java.lang.String"/>
	<field name="cor_nome" class="java.lang.String"/>
	<field name="eco_responsavel" class="java.lang.String"/>
	<field name="eco_resp_cargo" class="java.lang.String"/>
	<field name="eco_resp_telefone" class="java.lang.String"/>
	<field name="eco_ativo" class="java.lang.Integer"/>
	<field name="eco_codigo" class="java.lang.String"/>
	<field name="eco_identificador" class="java.lang.String"/>
	<field name="eco_nome" class="java.lang.String"/>
	<field name="eco_cnpj" class="java.lang.String"/>
	<field name="csa_cnpj" class="java.lang.String"/>
	<field name="csa_responsavel" class="java.lang.String"/>
	<field name="csa_resp_cargo" class="java.lang.String"/>
	<field name="csa_resp_telefone" class="java.lang.String"/>
	<variable name="BACKGROUND" resetType="Group" calculation="DistinctCount" resetGroup="EMPRESA_COR" class="java.lang.Integer">
		<expression><![CDATA[$F{cor_codigo}]]></expression>
		<initialValueExpression><![CDATA[new java.lang.Integer(0)]]></initialValueExpression>
	</variable>
	<group name="EMPRESA_COR" startNewPage="true" reprintHeaderOnEachPage="true">
		<expression><![CDATA[$F{eco_codigo}]]></expression>
		<groupHeader>
			<band height="45" splitType="Stretch">
				<element kind="textField" uuid="73edd8af-7374-487b-b238-20c6c42447d1" key="textField-23" positionType="Float" stretchType="ElementGroupHeight" x="1" y="0" width="766" height="13" blankWhenNull="false">
					<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.empresacorrespondente.singular",
$P{RESPONSAVEL}) + ": " + ($F{eco_identificador} != null ?
$F{eco_identificador} + " - " + $F{eco_nome} + " / " + $F{eco_cnpj}
+ ($F{eco_ativo}.intValue() == 1 ? " " + com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.relatorio.confcadempresacor.ativo", $P{RESPONSAVEL}) :
($F{eco_ativo}.intValue() == 0 ? " "+ com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.relatorio.confcadempresacor.bloqueado", $P{RESPONSAVEL}) : "")) : "")]]></expression>
				</element>
				<element kind="textField" uuid="a00d1a18-21e9-420c-82ec-e56fd6050c7f" key="textField-26" positionType="Float" stretchType="ElementGroupHeight" x="1" y="14" width="766" height="13" blankWhenNull="false">
					<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.relatorio.confcadempresacor.responsavel.cargo.telefone", $P{RESPONSAVEL}) + ": " + (!com.zetra.econsig.helper.texto.TextHelper.isNull($F{eco_responsavel})? $F{eco_responsavel} : "")
+ (!com.zetra.econsig.helper.texto.TextHelper.isNull($F{eco_responsavel}) && !com.zetra.econsig.helper.texto.TextHelper.isNull($F{eco_resp_cargo})? " / " : "")
+ (!com.zetra.econsig.helper.texto.TextHelper.isNull($F{eco_resp_cargo})? $F{eco_resp_cargo} : "")
+ (((!com.zetra.econsig.helper.texto.TextHelper.isNull($F{eco_responsavel}) || !com.zetra.econsig.helper.texto.TextHelper.isNull($F{eco_resp_cargo}))
&& !com.zetra.econsig.helper.texto.TextHelper.isNull($F{eco_resp_telefone}))? " / " : "")
+ (!com.zetra.econsig.helper.texto.TextHelper.isNull($F{eco_resp_telefone}) ? $F{eco_resp_telefone}: " ")]]></expression>
				</element>
				<element kind="textField" uuid="fe63a962-709a-4ce3-98d8-de3f48547091" key="staticText-10" stretchType="ElementGroupHeight" mode="Opaque" x="1" y="28" width="239" height="17" backcolor="#CCCCCC" markup="none" fontName="Arial" bold="true" hTextAlign="Center" vTextAlign="Middle">
					<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.consignataria.singular", $P{RESPONSAVEL})]]></expression>
					<box>
						<topPen lineWidth="0.25"/>
						<leftPen lineWidth="0.25"/>
						<bottomPen lineWidth="0.25"/>
						<rightPen lineWidth="0.25"/>
					</box>
				</element>
				<element kind="textField" uuid="f359f875-a3ab-4206-95af-3db39c8f2059" key="staticText-24" stretchType="ElementGroupHeight" mode="Opaque" x="240" y="28" width="100" height="17" backcolor="#CCCCCC" markup="none" fontName="Arial" bold="true" hTextAlign="Center" vTextAlign="Middle">
					<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.cnpj", $P{RESPONSAVEL})]]></expression>
					<box>
						<topPen lineWidth="0.25"/>
						<bottomPen lineWidth="0.25"/>
						<rightPen lineWidth="0.25"/>
					</box>
				</element>
				<element kind="textField" uuid="8dac0538-64b2-4579-8b66-8902e3bc532a" key="staticText-25" stretchType="ElementGroupHeight" mode="Opaque" x="340" y="28" width="202" height="17" backcolor="#CCCCCC" markup="none" fontName="Arial" bold="true" hTextAlign="Center" vTextAlign="Middle">
					<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.relatorio.confcadempresacor.responsavel", $P{RESPONSAVEL})]]></expression>
					<box>
						<topPen lineWidth="0.25"/>
						<bottomPen lineWidth="0.25"/>
						<rightPen lineWidth="0.25"/>
					</box>
				</element>
				<element kind="textField" uuid="d04a2a16-8144-4c55-a44e-076103ba39db" key="staticText-21" stretchType="ElementGroupHeight" mode="Opaque" x="542" y="28" width="239" height="17" backcolor="#CCCCCC" markup="none" fontName="Arial" bold="true" hTextAlign="Center" vTextAlign="Middle">
					<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.correspondente.singular", $P{RESPONSAVEL})]]></expression>
					<box>
						<topPen lineWidth="0.25"/>
						<bottomPen lineWidth="0.25"/>
						<rightPen lineWidth="0.25"/>
					</box>
				</element>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="19" splitType="Stretch">
				<element kind="textField" uuid="45909cfb-c33b-4087-9fa1-2e86129dc7b4" key="staticText-23" x="8" y="6" width="142" height="13" markup="none" fontName="Arial" bold="true" vTextAlign="Middle">
					<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.relatorio.subtotal.registros", $P{RESPONSAVEL}) + ":"]]></expression>
				</element>
				<element kind="textField" uuid="6fa32f9c-a508-4169-9e05-a08135d128b8" key="textField-24" x="150" y="6" width="48" height="13" blankWhenNull="true" vTextAlign="Middle">
					<expression><![CDATA[$V{EMPRESA_COR_COUNT}]]></expression>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
				</element>
			</band>
		</groupFooter>
	</group>
	<background splitType="Stretch"/>
	<title splitType="Stretch"/>
	<pageHeader height="73" splitType="Stretch">
		<element kind="image" uuid="3bc97b27-1e41-49cc-9f40-add4096c1214" key="image-1" x="2" y="1" width="63" height="20" onErrorType="Blank" usingCache="true" lazy="true">
			<expression><![CDATA[$P{CAMINHO_LOGO}]]></expression>
			<box>
				<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="0.0" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
		<element kind="textField" uuid="4900abef-b54d-4faa-b282-61b45f1e7e71" key="textField-11" x="68" y="3" width="714" height="13" fontName="Arial" blankWhenNull="false" bold="true" hTextAlign="Left">
			<expression><![CDATA[$P{TITULO}]]></expression>
			<box>
				<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="0.0" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
		<element kind="textField" uuid="7bf17b9a-d7f5-44ed-94c5-ef742ca72db4" key="textField-22" x="18" y="19" width="722" height="53" fontName="Arial" blankWhenNull="false" bold="true" hTextAlign="Left">
			<expression><![CDATA[$P{SUBTITULO}]]></expression>
			<box>
				<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="0.0" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
	</pageHeader>
	<columnHeader splitType="Stretch"/>
	<detail>
		<band height="11" splitType="Stretch">
			<element kind="staticText" uuid="6f11cdb3-ba47-4b4c-8d29-6f7242b6e1f1" key="fundoLinha-1" stretchType="ElementGroupHeight" mode="Opaque" x="1" y="1" width="780" height="10" backcolor="#FFFFFF" printWhenGroupChanges="EMPRESA_COR">
				<printWhenExpression><![CDATA[new java.lang.Boolean(($V{BACKGROUND}.intValue() % 2)==1)]]></printWhenExpression>
				<text><![CDATA[ ]]></text>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
			<element kind="staticText" uuid="8beb7a6c-160d-45d4-809e-dfc7cf7fa5cf" key="fundoLinha" stretchType="ElementGroupHeight" mode="Opaque" x="1" y="1" width="780" height="10" backcolor="#DDDDDD">
				<printWhenExpression><![CDATA[new java.lang.Boolean(($V{BACKGROUND}.intValue() % 2)==0)]]></printWhenExpression>
				<text><![CDATA[ ]]></text>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
			<element kind="textField" uuid="8216e632-e98a-4f16-90f5-e9cc16668057" key="textField" stretchType="ElementGroupHeight" x="1" y="0" width="239" height="11" fontSize="8.0" textAdjust="StretchHeight" blankWhenNull="true" vTextAlign="Middle" style="Celula">
				<expression><![CDATA[$F{csa_identificador} + " - " + $F{csa_nome}]]></expression>
				<box style="Celula">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
					<leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
			<element kind="textField" uuid="4cb58cce-b841-4680-a7d6-d1c62fe67777" key="textField-17" stretchType="ElementGroupHeight" x="542" y="0" width="239" height="11" fontSize="8.0" textAdjust="StretchHeight" blankWhenNull="true" vTextAlign="Middle" style="Celula">
				<expression><![CDATA[$F{cor_identificador} + " - " + $F{cor_nome}]]></expression>
				<box style="Celula">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
					<leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
			<element kind="textField" uuid="9061d2fb-d268-49e9-a613-30a72cad6b06" key="textField-27" stretchType="ElementGroupHeight" x="340" y="0" width="202" height="11" fontSize="8.0" textAdjust="StretchHeight" blankWhenNull="true" vTextAlign="Middle" style="Celula">
				<expression><![CDATA[(!com.zetra.econsig.helper.texto.TextHelper.isNull($F{csa_responsavel})? $F{csa_responsavel} : "")
+ (!com.zetra.econsig.helper.texto.TextHelper.isNull($F{csa_responsavel}) && !com.zetra.econsig.helper.texto.TextHelper.isNull($F{csa_resp_cargo})? " / " : "")
+ (!com.zetra.econsig.helper.texto.TextHelper.isNull($F{csa_resp_cargo})? $F{csa_resp_cargo} : "")
+ (((!com.zetra.econsig.helper.texto.TextHelper.isNull($F{csa_responsavel}) || !com.zetra.econsig.helper.texto.TextHelper.isNull($F{csa_resp_cargo}))
&& !com.zetra.econsig.helper.texto.TextHelper.isNull($F{csa_resp_telefone}))? " / " : "")
+ (!com.zetra.econsig.helper.texto.TextHelper.isNull($F{csa_resp_telefone}) ? $F{csa_resp_telefone}: " ")]]></expression>
				<box style="Celula">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
					<leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
			<element kind="textField" uuid="eb86c708-1e44-4b87-8b32-a300a933b4f4" key="textField-28" stretchType="ElementGroupHeight" x="240" y="0" width="100" height="11" fontSize="8.0" textAdjust="StretchHeight" blankWhenNull="true" vTextAlign="Middle" style="Celula">
				<expression><![CDATA[(!com.zetra.econsig.helper.texto.TextHelper.isNull($F{csa_cnpj}) ? $F{csa_cnpj}: " ")]]></expression>
				<box style="Celula">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
					<leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
		</band>
	</detail>
	<columnFooter splitType="Stretch"/>
	<pageFooter height="21" splitType="Stretch">
		<element kind="textField" uuid="e6c708f3-0906-4e08-838f-6ab674283454" key="textField" x="2" y="4" width="683" height="13" fontName="Times New Roman" fontSize="7.0" blankWhenNull="true">
			<expression><![CDATA[$P{TEXTO_RODAPE}]]></expression>
			<box>
				<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="0.0" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
		<element kind="textField" uuid="eaf9cd3b-7251-4b22-955f-5560a90a8d4f" key="textField-12" x="685" y="4" width="49" height="13" blankWhenNull="false" hTextAlign="Right">
			<expression><![CDATA[$V{PAGE_NUMBER} + ""]]></expression>
			<box>
				<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="0.0" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
		<element kind="textField" uuid="a128f90e-cd74-47cf-ab91-7867f4002037" key="textField-13" x="736" y="4" width="45" height="13" evaluationTime="Report" blankWhenNull="false" hTextAlign="Left">
			<expression><![CDATA[" " + com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.relatorio.de.pagina", $P{RESPONSAVEL}, $V{PAGE_NUMBER}.toString())]]></expression>
			<box>
				<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="0.0" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
	</pageFooter>
	<summary height="24" splitType="Stretch">
		<element kind="textField" uuid="1eb4f23a-d2a6-49a8-8e34-bb4f4b60d5b5" key="staticText-16" x="2" y="6" width="126" height="17" markup="none" fontName="Arial" bold="true" vTextAlign="Middle">
			<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.relatorio.total.registros", $P{RESPONSAVEL}) + ":"]]></expression>
		</element>
		<element kind="textField" uuid="088a5967-aa83-4fe4-a415-f216ec2f4486" key="textField-16" x="128" y="6" width="48" height="17" pattern="" blankWhenNull="true" bold="false" vTextAlign="Middle">
			<expression><![CDATA[$V{REPORT_COUNT}]]></expression>
			<box>
				<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="0.0" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
	</summary>
</jasperReport>
