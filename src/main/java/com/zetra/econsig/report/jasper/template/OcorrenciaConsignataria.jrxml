<!-- Created with Jaspersoft Studio version 7.0.1.final using JasperReports Library version 7.0.1-573496633c2b4074e32f433154b543003f7d2498  -->
<jasperReport name="OcorrenciaConsignataria" language="java" pageWidth="842" pageHeight="595" orientation="Landscape" whenNoDataType="AllSectionsNoDetail" columnWidth="782" leftMargin="30" rightMargin="30" topMargin="20" bottomMargin="20" uuid="0b11c900-f71c-4984-a3dd-771d3551572c">
	<property name="ireport.scriptlethandling" value="0"/>
	<property name="ireport.encoding" value="ISO-8859-1"/>
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="188"/>
	<property name="ireport.y" value="0"/>
	<import>net.sf.jasperreports.engine.*</import>
	<import>java.util.*</import>
	<import>net.sf.jasperreports.engine.data.*</import>
	<style name="Celula">
		<box padding="0" leftPadding="2" rightPadding="2"/>
	</style>
	<parameter name="CAMINHO_LOGO" forPrompting="false" class="java.lang.String"/>
	<parameter name="SUBTITULO" forPrompting="false" class="java.lang.String">
		<description><![CDATA[Subtitulo do relatÃ³rio]]></description>
	</parameter>
	<parameter name="TEXTO_RODAPE" forPrompting="false" class="java.lang.String">
		<description><![CDATA[Nome do Gestor(Consignante)]]></description>
	</parameter>
	<parameter name="TITULO" forPrompting="false" class="java.lang.String"/>
	<parameter name="RESPONSAVEL" class="com.zetra.econsig.helper.seguranca.AcessoSistema"/>
	<query language="sql"><![CDATA[select csa.csa_nome, csa.csa_nome_abrev, toc.toc_descricao, occ.occ_data, usu.usu_login, occ.occ_obs
from tb_consignataria csa
inner join tb_ocorrencia_consignataria occ on (csa.csa_codigo = occ.csa_codigo)
inner join tb_tipo_ocorrencia toc on (toc.toc_codigo = occ.toc_codigo)
inner join tb_usuario usu on (occ.usu_codigo = usu.usu_codigo)]]></query>
	<field name="CSA_IDENTIFICADOR" class="java.lang.String"/>
	<field name="CSA_NOME" class="java.lang.String"/>
	<field name="CSA_NOME_ABREV" class="java.lang.String"/>
	<field name="CONSIGNATARIA" class="java.lang.String"/>
	<field name="TOC_DESCRICAO" class="java.lang.String"/>
	<field name="OCC_DATA" class="java.sql.Timestamp"/>
	<field name="USU_LOGIN" class="java.lang.String"/>
	<field name="OCC_OBS" class="java.lang.String"/>
	<field name="CSA_CODIGO" class="java.lang.String"/>
	<field name="OCC_CODIGO" class="java.lang.String"/>
	<field name="TPE_DESCRICAO" class="java.lang.String"/>
	<variable name="BACKGROUND" resetType="Group" calculation="DistinctCount" resetGroup="CONSIGNATARIA" class="java.lang.Integer">
		<expression><![CDATA[$F{OCC_CODIGO}]]></expression>
		<initialValueExpression><![CDATA[new java.lang.Integer(0)]]></initialValueExpression>
	</variable>
	<group name="CONSIGNATARIA" startNewPage="true" reprintHeaderOnEachPage="true">
		<expression><![CDATA[$F{CSA_CODIGO}]]></expression>
		<groupHeader>
			<band height="39" splitType="Stretch">
				<element kind="textField" uuid="062268d6-e2e1-437e-bdc0-cb2e02908fad" key="textField-14" x="1" y="6" width="781" height="16" fontName="Arial" blankWhenNull="false" bold="true" vTextAlign="Middle">
					<expression><![CDATA[$F{CONSIGNATARIA} != null ? com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.consignataria.singular", $P{RESPONSAVEL}) + ": " + $F{CONSIGNATARIA} : ""]]></expression>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
				</element>
				<element kind="textField" uuid="a61aa508-144a-4d6b-b051-c94f96d03c9b" key="staticText-14" mode="Opaque" x="680" y="22" width="102" height="17" backcolor="#CCCCCC" markup="none" fontName="Arial" bold="true" hTextAlign="Center" vTextAlign="Middle">
					<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.relatorio.ocorrenciaconsignataria.usuario", $P{RESPONSAVEL})]]></expression>
					<box>
						<topPen lineWidth="0.25"/>
						<leftPen lineWidth="0.25"/>
						<bottomPen lineWidth="0.25"/>
						<rightPen lineWidth="0.25"/>
					</box>
				</element>
				<element kind="textField" uuid="a046dbcd-f739-4759-a2a0-ad2f30f5e9ff" key="staticText-11" mode="Opaque" x="547" y="22" width="135" height="17" backcolor="#CCCCCC" markup="none" fontName="Arial" bold="true" hTextAlign="Center" vTextAlign="Middle">
					<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.relatorio.ocorrenciaconsignataria.data", $P{RESPONSAVEL})]]></expression>
					<box>
						<topPen lineWidth="0.25"/>
						<leftPen lineWidth="0.25"/>
						<bottomPen lineWidth="0.25"/>
						<rightPen lineWidth="0.25"/>
					</box>
				</element>
				<element kind="textField" uuid="d69c1403-6c13-4861-a1a1-b880311db5fd" key="staticText-10" mode="Opaque" x="117" y="22" width="430" height="17" backcolor="#CCCCCC" markup="none" fontName="Arial" bold="true" hTextAlign="Center" vTextAlign="Middle">
					<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.relatorio.ocorrenciaconsignataria.descricao", $P{RESPONSAVEL})]]></expression>
					<box>
						<topPen lineWidth="0.25"/>
						<leftPen lineWidth="0.25"/>
						<bottomPen lineWidth="0.25"/>
						<rightPen lineWidth="0.25"/>
					</box>
				</element>
				<element kind="textField" uuid="eb3d9a8c-eaff-4765-9726-ac26eafdf701" key="staticText-9" mode="Opaque" x="0" y="22" width="117" height="17" backcolor="#CCCCCC" markup="none" fontName="Arial" bold="true" hTextAlign="Center" vTextAlign="Middle">
					<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.relatorio.ocorrenciaconsignataria.tipo", $P{RESPONSAVEL})]]></expression>
					<box>
						<topPen lineWidth="0.25"/>
						<leftPen lineWidth="0.25"/>
						<bottomPen lineWidth="0.25"/>
						<rightPen lineWidth="0.25"/>
					</box>
				</element>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="22" splitType="Stretch">
				<element kind="textField" uuid="95349308-77f2-41a6-8823-4a2af97246dc" key="staticText-15" x="0" y="3" width="125" height="18" markup="none" fontName="Arial" textAdjust="StretchHeight" bold="true" vTextAlign="Middle">
					<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.relatorio.subtotal.registros", $P{RESPONSAVEL}) + ":"]]></expression>
				</element>
				<element kind="textField" uuid="476623ba-dc65-455f-9a33-4a9b5d53d086" key="textField-15" x="125" y="3" width="48" height="18" blankWhenNull="true" vTextAlign="Middle">
					<expression><![CDATA[$V{CONSIGNATARIA_COUNT}]]></expression>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
				</element>
			</band>
		</groupFooter>
	</group>
	<background splitType="Stretch"/>
	<title splitType="Stretch"/>
	<pageHeader height="69" splitType="Stretch">
		<element kind="image" uuid="815a72cc-8a2d-4c24-8abf-cf78feb7e924" key="image-1" x="2" y="1" width="63" height="20" onErrorType="Blank" usingCache="true" lazy="true">
			<expression><![CDATA[$P{CAMINHO_LOGO}]]></expression>
			<box>
				<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="0.0" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
		<element kind="textField" uuid="3cc44417-e4ba-4a68-ac02-4f9c308e84ad" key="textField-11" x="68" y="3" width="714" height="13" fontName="Arial" blankWhenNull="false" bold="true" hTextAlign="Left">
			<expression><![CDATA[$P{TITULO}]]></expression>
			<box>
				<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="0.0" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
		<element kind="textField" uuid="be1d1285-f62f-4b77-9e97-52ce25d91096" key="textField-18" stretchType="ElementGroupHeight" x="68" y="20" width="714" height="45" fontName="Arial" textAdjust="StretchHeight" blankWhenNull="false" bold="true" hTextAlign="Left">
			<expression><![CDATA[$P{SUBTITULO}]]></expression>
			<box>
				<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="0.0" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
	</pageHeader>
	<columnHeader splitType="Stretch"/>
	<detail>
		<band height="17" splitType="Stretch">
			<element kind="staticText" uuid="1ae556de-d660-40b5-b5b4-a43991c427a4" key="fundoLinha" stretchType="ElementGroupHeight" mode="Opaque" x="0" y="0" width="782" height="17" backcolor="#DDDDDD">
				<printWhenExpression><![CDATA[new java.lang.Boolean(($V{BACKGROUND}.intValue() % 2)==0)]]></printWhenExpression>
				<text><![CDATA[ ]]></text>
				<box>
					<topPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
			<element kind="textField" uuid="8c5dff68-b8dc-42a5-91e3-6e0dd0961690" key="textField" stretchType="ElementGroupHeight" x="0" y="0" width="117" height="17" fontSize="9.0" textAdjust="StretchHeight" blankWhenNull="true" vTextAlign="Middle" style="Celula">
				<expression><![CDATA[$F{TOC_DESCRICAO}]]></expression>
				<box style="Celula">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
					<leftPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.25" lineColor="#000000"/>
					<rightPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
			<element kind="textField" uuid="6de51fc7-efad-4ba8-b571-eef7c60b5bb2" key="textField" stretchType="ElementGroupHeight" x="117" y="0" width="430" height="17" fontSize="9.0" textAdjust="StretchHeight" blankWhenNull="true" vTextAlign="Middle" style="Celula">
				<expression><![CDATA[$F{TPE_DESCRICAO} != null ? $F{OCC_OBS} + " - " + $F{TPE_DESCRICAO} : $F{OCC_OBS}]]></expression>
				<box style="Celula">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
					<bottomPen lineWidth="0.25" lineColor="#000000"/>
					<rightPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
			<element kind="textField" uuid="3dfb3c43-cd73-4fa4-a5ca-2cdefd1a8dba" key="textField-8" stretchType="ElementGroupHeight" mode="Transparent" x="681" y="0" width="101" height="17" fontSize="9.0" textAdjust="StretchHeight" blankWhenNull="true" vTextAlign="Middle" style="Celula">
				<expression><![CDATA[$F{USU_LOGIN}]]></expression>
				<box style="Celula">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.25" lineColor="#000000"/>
					<rightPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
			<element kind="textField" uuid="3af629f1-6396-45d2-9832-a89f08694ad8" key="textField-17" stretchType="ElementGroupHeight" mode="Transparent" x="547" y="0" width="135" height="17" fontSize="9.0" textAdjust="StretchHeight" pattern="" blankWhenNull="true" vTextAlign="Middle" style="Celula">
				<expression><![CDATA[com.zetra.econsig.helper.texto.DateHelper.format($F{OCC_DATA}, com.zetra.econsig.helper.texto.LocaleHelper.getDateTimePattern())]]></expression>
				<box style="Celula">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.25" lineColor="#000000"/>
					<rightPen lineWidth="0.25" lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
		</band>
	</detail>
	<columnFooter splitType="Stretch"/>
	<pageFooter height="18" splitType="Stretch">
		<element kind="textField" uuid="a2557617-b94d-4f12-ad3b-761fd5cc7866" key="textField" x="0" y="4" width="676" height="13" fontName="Times New Roman" fontSize="7.0" blankWhenNull="true">
			<expression><![CDATA[$P{TEXTO_RODAPE}]]></expression>
			<box>
				<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="0.0" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
		<element kind="textField" uuid="ca7fda25-02d0-4cce-b6c4-72733ac4697c" key="textField-12" x="676" y="4" width="60" height="13" blankWhenNull="false" hTextAlign="Right">
			<expression><![CDATA[$V{PAGE_NUMBER}.toString() + " "]]></expression>
			<box>
				<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="0.0" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
		<element kind="textField" uuid="27960ae6-0ae4-4062-97ec-a1825add7de6" key="textField-13" x="736" y="4" width="45" height="13" evaluationTime="Report" blankWhenNull="false" hTextAlign="Left">
			<expression><![CDATA[" " + com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.relatorio.de.pagina", $P{RESPONSAVEL}, $V{PAGE_NUMBER}.toString())]]></expression>
			<box>
				<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="0.0" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
	</pageFooter>
	<summary height="17" splitType="Stretch">
		<element kind="textField" uuid="98612cea-0081-45af-b62c-c818443c149a" key="staticText-16" x="1" y="-2" width="124" height="17" markup="none" fontName="Arial" textAdjust="StretchHeight" bold="true" vTextAlign="Middle">
			<expression><![CDATA[com.zetra.econsig.helper.texto.ApplicationResourcesHelper.getMessage("rotulo.relatorio.total.registros", $P{RESPONSAVEL}) + ":"]]></expression>
		</element>
		<element kind="textField" uuid="bf6cd5ae-f550-420a-8702-62a34587ecb0" key="textField-16" x="125" y="-2" width="48" height="17" pattern="" blankWhenNull="true" bold="false" vTextAlign="Middle">
			<expression><![CDATA[$V{REPORT_COUNT}]]></expression>
			<box>
				<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				<bottomPen lineWidth="0.0" lineColor="#000000"/>
				<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
			</box>
		</element>
	</summary>
</jasperReport>
